<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Revision control &mdash; Topographica</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <link rel="shortcut icon" href="../_static/topo-favicon.ico"/>
    <link rel="top" title="Topographica" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="revision-control">
<h1>Revision control<a class="headerlink" href="#revision-control" title="Permalink to this headline">¶</a></h1>
<p>Topographica source code and development is managed using <a class="reference external" href="https://git-scm.com">Git</a>
hosting services provided by <a class="reference external" href="https://github.com/ioam/topographica">GitHub</a>. Git is a distributed version
control system, providing support for a wide range of ways of
interacting with other developers. In particular, it allows you to
keep track of your own changes locally, without involving the
&#8220;official&#8221; Topographica developers, if you want to have changes
specific to your own needs.</p>
<p>If you&#8217;re working on changes intended to end up in the public
repository, it is essential that you follow the guidelines below.</p>
<p>Every Git commit <em>must</em> include an informative log message,
summarizing the reason for the changes in easily understandable
terms, and avoiding pejorative language (i.e., no comments like
&#8220;Lord only knows what idiot coded it that way!&#8221;). If your change
fixes a bug or addresses some other known issue, include text in the
commit log message specifically mentioning the issue number that is
being addressed (e.g. &#8220;Fixes #17&#8221; or &#8220;Closes #17&#8221;); that way GitHub
will automatically close the associated issue and link back to the
change that closed it.</p>
<p>When describing the changes, it is crucial to examine every single
line produced by <tt class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></tt> to verify that only intentional
changes (and not stray characters or temporary changes) are checked
in, and that the log message covers all the important changes. You
should also do <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> to make sure that you don&#8217;t have any
important files not yet checked into Git, as <tt class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></tt> will not
report these.</p>
<p>If so many items were changed that any single log message would have
to be very general (e.g. &#8220;Misc changes to many files&#8221;), then take a
step back and try to find smaller groups of files that can be
checked in, each with a meaningful log message. Git commits are
initially stored locally, and can be deleted later, which should
encourage you to commit whenever things come together into something
coherent &#8211; there&#8217;s almost no cost to doing a commit, and it
provides a record of your work and a checkpoint to fall back on if
problems occur later. Using smaller, meaningful chunks also makes
debugging much easier later, allowing the source of a new bug to be
tracked down to a small, understandable set of related changes.
Conversely, if the same trivial changes were made to a large group
of files, please check in all of those at once, with the same log
message, so that it will be clear that they go together.</p>
<p>Ideally, each commit should reflect a single purpose (e.g. addition
of a new feature or a bug fix). When committing files, please do it
in the appropriate order and grouping so that the code works at
every time in the Git repository history, if at all possible. That
is, if you change several files, adding a function to one file and
then calling it in another, consider if you should check in the file
with the new function first, or if you should check in the two files
together. In this situation you should certainly <em>not</em> check in the
file that calls the function before checking in the file containing
the function. In this opposite order, the repository would
temporarily be in a state where it could not supply working code.
Such gaps cause needless errors with our automated tests, and make
it much more difficult to debug problems using the Git revision
history, because they make it impractical to roll back history one
change at a time to try to find the source of a bug.</p>
<p>When making and checking in particularly extensive changes, please
keep refactoring completely separate from new features whenever
possible. That is, if you have to change or clean up a lot of old
code in order to add a new feature, follow something like this
procedure:</p>
<div class="highlight-python"><div class="highlight"><pre>git commit -a   # Commit all outstanding edits
make tests      # Verify that things work when you start
emacs           # Refactor old code, not changing behavior at all
make tests      # Verify that nothing has been broken
git diff        # Will have many widespread changes
git commit -a -m &quot;No visible changes&quot;
emacs           # Add new feature and new test for it
make tests      # See if tests still work, fixing if necessary
git diff        # Short list: only the new code
git commit -a -m &quot;Added feature Y&quot;
</pre></div>
</div>
<p>That way nearly all of the lines and files you changed can be tested
thoroughly using the existing test suite as-is, and any tests added
can be tested equally well on both the old and new code. Then the
few lines implementing the new feature can be added and debugged on
their own, so that it will be very simple to see whether the new
feature was the source of a bug, or whether it was all those other
changes that <em>shouldn&#8217;t</em> have changed anything.</p>
<div class="section" id="other-notes">
<h2>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h2>
<p>Mac users: when adding a directory, please be sure not to add all
the temporary files that OS X creates (i.e. ones beginning <tt class="docutils literal"><span class="pre">.DS_</span></tt>
and <tt class="docutils literal"><span class="pre">._</span></tt>). To delete all those files recursively, you can use
commands like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>find . -name &quot;._*&quot; -exec rm -f {} ;
find . -name &quot;.DS_*&quot; -exec rm -f {} ;
</pre></div>
</div>
<p>Other users should similarly make sure not to add any temporary
editor files or other irrelevant items; the repository needs to be
kept clean so that we can focus on the files that matter.</p>
</div>
<div class="section" id="suggested-git-workflows">
<h2>Suggested Git Workflows<a class="headerlink" href="#suggested-git-workflows" title="Permalink to this headline">¶</a></h2>
<p>The information above is primarily policies that apply to official
Topographica developers. We also have <a class="reference external" href="git.html">specific suggestions</a> for
useful workflows using Git, but these are just suggestions rather
than policies such as the above.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/topo-banner7.png" alt="Logo"/>
            </a></p>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../News/index.html">News</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>
<li><a href="../Reference_Manual/index.html">Reference Manual</a></li>
<li><a href="index.html">Developer Manual</a></li>
<li><a href="http://github.com/ioam/topographica">Github Source Code</a></li>
<li><a href="../Forums/index.html">Forums</a></li>
<li><a href="../Team_Members/index.html">Team Members</a></li>
<li><a href="../Future_Work/index.html">Future Work</a></li>
<li><a href="../FAQ/index.html">FAQ</a></li>
<li><a href="../Links/index.html">Links</a></li>
<li><a href="../Home/pubs.html">Publications</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">Revision control</a><ul>
<li><a class="reference internal" href="#other-notes">Other Notes</a></li>
<li><a class="reference internal" href="#suggested-git-workflows">Suggested Git Workflows</a></li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/topographica/edit/master/doc/Developer_Manual/revisioncontrol.rst" rel="nofollow">Edit on GitHub</a></li>
    <li><a	href="http://doozy.inf.ed.ac.uk:8010/builders/topographica_docs" rel="nofollow">Rebuild docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>