<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developing Topographica Using Git &mdash; Topographica</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <link rel="shortcut icon" href="../_static/topo-favicon.ico"/>
    <link rel="top" title="Topographica" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="developing-topographica-using-git">
<h1>Developing Topographica Using Git<a class="headerlink" href="#developing-topographica-using-git" title="Permalink to this headline">¶</a></h1>
<p>It is often useful to work on separate copies of the code, e.g. to
develop a new, complicated feature, or to make far-reaching changes
that need extensive testing. Git makes this easy, by allowing you to
establish a local branch of Topographica, so that you can have the
benefits of version control (keeping track of different revisions)
without necessarily affecting the global repository. If it does turn
out that the local changes would be useful to other Topographica
users, they can then be &#8220;pushed&#8221; onto the global repository for
everyone to use once they are completed.</p>
<p>Git&#8217;s branches work locally (without internet access), and are very
fast, which makes them usable for even small and frequent changes.</p>
<div class="section" id="working-with-your-git-repository">
<h2>Working with your Git repository<a class="headerlink" href="#working-with-your-git-repository" title="Permalink to this headline">¶</a></h2>
<p>Once you have the Topographica source code in your own Git
repository (as described on the <a class="reference external" href="../Downloads/index.html#install-via-git">downloads</a> page), you are free to
work on it as you wish. You can commit files, add files, delete
files, and so on. All operations that you perform with <tt class="docutils literal"><span class="pre">git</span></tt> (such
as <tt class="docutils literal"><span class="pre">diff</span></tt> and <tt class="docutils literal"><span class="pre">commit</span></tt>) are local; only operations with
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></tt> have the potential to modify the Git repository, and
those work only if you have commit rights to the public repository.
If you are new to Git, <a class="reference external" href="http://git-scm.com/documentation">Git&#8217;s documentation page</a> has various
tutorials for people with different backgrounds (including those
coming from Subversion).</p>
<p>Note that before committing to your repository for the first time,
you should identify yourself to git:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global user.email user@address.ext
$ git config --global user.name &quot;User Name&quot;
</pre></div>
</div>
<p>You should also check that your machine has the correct time and
date, otherwise your history can become confusing.</p>
</div>
<div class="section" id="repository-backup-and-sharing-work-in-progress">
<h2>Repository backup and sharing work in progress<a class="headerlink" href="#repository-backup-and-sharing-work-in-progress" title="Permalink to this headline">¶</a></h2>
<p>With git, you are usually working locally. This means your work is
(a) not backed up and (b) not visible to others. Not backing up your
work is risky, and if others are not aware of your work, unnecessary
duplication or conflict could occur. You can solve (a) alone by
making a copy of your repository elsewhere, but you can solve (a)
and (b) by obtaining a git repository of your own on github. To do
so, please visit github.com. You can then clone the Topographica
repository using the instructions on the <a class="reference external" href="https://github.com/ioam/topographica">Topographica page at
GitHub</a>. You can then push your local repository to the remote one
as often as you want by doing e.g.</p>
<div class="highlight-python"><div class="highlight"><pre>$ git push
</pre></div>
</div>
</div>
<div class="section" id="pull-requests">
<span id="pullrequest"></span><h2>Pull requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h2>
<p>If you don&#8217;t have push rights, or want to ensure that your code is
reviewed first, you are encouraged to submit a &#8220;pull request&#8221; at
GitHub. Pull requests package up your changes into an easy-to review
and discuss format, allowing the core Topographica developers to
evaluate the changes before approving them.</p>
<p>Creating a pull request can be done with something like the
following workflow:</p>
<ol class="arabic simple">
<li>Clone the repository you wish to be pushing to.</li>
<li>Make the required changes in your clone, and commit to your own
repository.</li>
<li>Navigate to <em>your cloned repository&#8217;s</em> github page.</li>
<li>Click on the &#8220;Pull Request&#8221; button near the top (note &#8211; this is
different from the list of existing pull requests labeled &#8220;Pull
Requests&#8221;)</li>
<li>You should be taken to a configuration page, where you can select
the appropriate head and local repositories and branches, add
comments to describe your submission, etc.</li>
<li>Every time you commit to the local branch that you have
submitted, the corresponding pull request will also be updated.</li>
</ol>
</div>
<div class="section" id="interacting-with-topographica-s-git-repository">
<h2>Interacting with Topographica&#8217;s Git repository<a class="headerlink" href="#interacting-with-topographica-s-git-repository" title="Permalink to this headline">¶</a></h2>
<p>To interact with our Git repository, there are several possible
workflows you could adopt. However, we strongly recommend the
following workflow:</p>
<ol class="arabic simple">
<li>To start work on some new feature, create a new branch called
<tt class="docutils literal"><span class="pre">feature</span></tt> from <tt class="docutils literal"><span class="pre">master</span></tt> (the main public branch):
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature</span></tt></li>
<li>Make your changes, commit them, and test them (probably multiple
iterations, potentially over a long period).</li>
<li><em>(Optional)</em> If you have made a lot of commits and they do not
form a coherent story, collapse them using git&#8217;s <a class="reference external" href="http://book.git-scm.com/4_rebasing.html">rebase</a>. The
safest way to do this is to first create a new branch of
<tt class="docutils literal"><span class="pre">feature</span></tt> (<tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature_clean</span></tt>); this way, what
you actually did is preserved in the <tt class="docutils literal"><span class="pre">feature</span></tt> branch. In the
new branch, run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--interactive</span> <span class="pre">HEAD~i</span></tt>, where <tt class="docutils literal"><span class="pre">i</span></tt>
is the number of commits back from the current position that you
want to sort out. This will open an editor (as specified by the
<tt class="docutils literal"><span class="pre">GIT_EDITOR</span></tt> environment variable) where you can rearrange,
squash, or remove individual commits. The end result should be a
single commit with a log message describing the new feature.</li>
<li>Update your branch to get changes made by others while you were
working on your feature: <tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">master;</span> <span class="pre">git</span> <span class="pre">pull</span></tt>.</li>
<li>Rebase your changes onto the public repository. First, change to
the feature branch: <tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">feature</span></tt> (or
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">feature_clean</span></tt> if you followed step 3). Then,
perform the rebase (moving your &#8220;feature&#8221; commits to appear after
the latest Git changes): <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">master</span></tt>. Your changes need
to appear at the tip in this way (i.e. they need to be &#8216;fast
forwarded&#8217;), since that is the point at which they will actually
be committed to the master.</li>
<li>Test your changes and commit fixes if necessary. Other people
might have introduced incompatibilities with your code into Git
while you were working on step 2, so it is important to check
your changes are still valid (and not just that they merge
without conflict). If you followed optional step 3, you probably
now want to run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--interactive</span> <span class="pre">HEAD~j</span></tt> again to
incorporate any new commits into the one you created earlier.</li>
<li>Merge your feature branch back into the main branch, then commit
to Git: <tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">master;</span> <span class="pre">git</span> <span class="pre">merge</span> <span class="pre">feature</span></tt> (or
<tt class="docutils literal"><span class="pre">feature_clean</span></tt> if you followed step 3), then
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-a</span></tt>. If you first want to see what will happen when
you commit to Git, you can do a dry run by passing <tt class="docutils literal"><span class="pre">-n</span></tt> to
<tt class="docutils literal"><span class="pre">commit</span></tt>. Note that before sending your changes to Git, you
should ensure that you have followed the <a class="reference external" href="revisioncontrol.html">general revision
control guidelines</a>.</li>
<li>Now that your feature is complete and in Git, you can branch
<tt class="docutils literal"><span class="pre">master</span></tt> again to start on the next feature!</li>
</ol>
<p>Branching in Git is fast, so if you are ever unsure what effect an
operation will have on the <tt class="docutils literal"><span class="pre">master</span></tt> or <tt class="docutils literal"><span class="pre">feature</span></tt> branches,
create new branches from them and test out the command using the
copies.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/topo-banner7.png" alt="Logo"/>
            </a></p>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../News/index.html">News</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>
<li><a href="../Reference_Manual/index.html">Reference Manual</a></li>
<li><a href="index.html">Developer Manual</a></li>
<li><a href="http://github.com/ioam/topographica">Github Source Code</a></li>
<li><a href="../Forums/index.html">Forums</a></li>
<li><a href="../Team_Members/index.html">Team Members</a></li>
<li><a href="../Future_Work/index.html">Future Work</a></li>
<li><a href="../FAQ/index.html">FAQ</a></li>
<li><a href="../Links/index.html">Links</a></li>
<li><a href="../Home/pubs.html">Publications</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">Developing Topographica Using Git</a><ul>
<li><a class="reference internal" href="#working-with-your-git-repository">Working with your Git repository</a></li>
<li><a class="reference internal" href="#repository-backup-and-sharing-work-in-progress">Repository backup and sharing work in progress</a></li>
<li><a class="reference internal" href="#pull-requests">Pull requests</a></li>
<li><a class="reference internal" href="#interacting-with-topographica-s-git-repository">Interacting with Topographica&#8217;s Git repository</a></li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/topographica/edit/master/doc/Developer_Manual/git.rst" rel="nofollow">Edit on GitHub</a></li>
    <li><a	href="http://doozy.inf.ed.ac.uk:8010/builders/topographica_docs" rel="nofollow">Rebuild docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>