<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Parameters &mdash; Topographica</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <link rel="shortcut icon" href="../_static/topo-favicon.ico"/>
    <link rel="top" title="Topographica" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="parameters">
<h1>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h1>
<p>The behavior of most of the objects making up a Topographica
simulation can be controlled by variables called Parameters. A
<a class="reference external" href="../Reference_Manual/param.parameterized.Parameter-class.html">Parameter</a> is a special type of Python attribute extended to have
features such as type and range checking, dynamically generated
values, documentation strings, default values, etc., each of which
is inherited from parent classes if not specified in a subclass.
Parameter support is provided by the <a class="reference external" href="../Reference_Manual/param-module.html">param</a> package, which was
developed alongside Topographica but is completely independent and
usable for any Python project.</p>
<p>Objects that can contain Parameters are called <a class="reference external" href="../Reference_Manual/param.parameterized.Parameterized-class.html">Parameterized</a>
objects. For instance, Sheets, Projections, and PatternGenerators
are all Parameterized. The Parameters of a Sheet include its
<tt class="docutils literal"><span class="pre">nominal_density</span></tt> and <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt>, and the Parameters of a
PatternGenerator include its <tt class="docutils literal"><span class="pre">scale</span></tt> and <tt class="docutils literal"><span class="pre">offset</span></tt>.</p>
<div class="section" id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>For the most part, Parameters can be used just like Python
attributes. For instance, consider <tt class="docutils literal"><span class="pre">G=topo.pattern.Gaussian()</span></tt>.
This is a two-dimensional Gaussian pattern generator, which has the
Parameters <tt class="docutils literal"><span class="pre">scale</span></tt>, <tt class="docutils literal"><span class="pre">offset</span></tt>, <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, <tt class="docutils literal"><span class="pre">size</span></tt>,
<tt class="docutils literal"><span class="pre">aspect_ratio</span></tt>, and <tt class="docutils literal"><span class="pre">orientation</span></tt>. (To see this list, you can
select Gaussian in a Test Pattern window, or type
<tt class="docutils literal"><span class="pre">G.params().keys()</span></tt> at a Topographica command prompt.) From a
Topographica command prompt, you can type <tt class="docutils literal"><span class="pre">G.scale</span></tt> to see its
scale (e.g. 1.0), and e.g. <tt class="docutils literal"><span class="pre">G.scale=0.8</span></tt> to set it. Alternatively,
you can set the value via the <tt class="docutils literal"><span class="pre">scale</span></tt> widget in a Test Pattern
window.</p>
<p>The biggest difference from a standard Python attribute is visible
when one tries to set a Parameter to a value that is not allowed.
For instance, you can try to enter <tt class="docutils literal"><span class="pre">-1</span></tt> in the <tt class="docutils literal"><span class="pre">aspect_ratio</span></tt>
box, or type <tt class="docutils literal"><span class="pre">G.aspect_ratio=-0.5</span></tt> at the command prompt, but in
either case you should get a ValueError. Similarly, trying to set it
to anything but a number (e.g. <tt class="docutils literal"><span class="pre">G.aspect_ratio=&quot;big&quot;</span></tt>) should
produce an error. These errors are detected because the
<tt class="docutils literal"><span class="pre">aspect_ratio</span></tt> has been declared as a <tt class="docutils literal"><span class="pre">Number</span></tt> Parameter with
bounds &#8216;(0,None)&#8217; (i.e. a minimum value of 0.0, and no maximum
value).</p>
<p>To provide reasonable checking for parameters of different types, a
large number of <a class="reference external" href="../Reference_Manual/param-module.html">other Parameter types</a> are provided besides
<a class="reference external" href="../Reference_Manual/param.Number-class.html">Number</a>, such as <a class="reference external" href="../Reference_Manual/param.Integer-class.html">Integer</a>, <a class="reference external" href="../Reference_Manual/param.Filename-class.html">Filename</a>, <a class="reference external" href="../Reference_Manual/param.Enumeration-class.html">Enumeration</a>, and
<a class="reference external" href="../Reference_Manual/param.Boolean-class.html">Boolean</a>. Each of these types can be declared to be constant, in
which case the value cannot be changed after the Parameterized
object that owns the Parameter has been created. Some classes, such
as <a class="reference external" href="../Reference_Manual/param.Number-class.html">Number</a>, allow the parameter values to be generated from a
sequence or random distribution, such as for generating random input
patterns; in this case the random number will be updated at most
once for each unique value of simulation time.</p>
<p>Parameters also typically have a <tt class="docutils literal"><span class="pre">doc</span></tt> string, which is a brief
explanation of what the Parameter does (as for function and class
docstrings in Python). Some Parameter types or instances can be
declared to have <tt class="docutils literal"><span class="pre">softbounds</span></tt>, which are used to suggest the sizes
of GUI sliders for the object, and <tt class="docutils literal"><span class="pre">precedence</span></tt>, which determines
the sorting order for the Parameter in the GUI or in lists. A large
number of Parameter types are provided, and more can be added
easily.</p>
</div>
<div class="section" id="inheritance-and-class-parameters">
<h2>Inheritance and class Parameters<a class="headerlink" href="#inheritance-and-class-parameters" title="Permalink to this headline">¶</a></h2>
<p>Parameterized objects inherit Parameter values from their parent
classes, allowing Parameterized objects to use default values for
most Parameters. This is designed to work just as Python attribute
inheritance normally works, but also inheriting any documentation,
bounds, etc. associated with the Parameter, even when the default
value is overridden. For instance, the Gaussian PatternGenerator
parameters <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt> are not actually specified in the
Gaussian class, but are inherited from the base class,
PatternGenerator. If the value for x or y is set on the Gaussian
object <tt class="docutils literal"><span class="pre">G</span></tt> (as in <tt class="docutils literal"><span class="pre">G.x=0.5</span></tt>) or the Gaussian class itself (by
typing <tt class="docutils literal"><span class="pre">Gaussian.x=0.5</span></tt> or <tt class="docutils literal"><span class="pre">x=0.5</span></tt> in the source code for the
Gaussian class), the values will overwrite the defaults, yet the
same documentation and bounds will still apply.</p>
<p>Note that there is an important difference between setting the
Parameter on the class and on the object. If we do <tt class="docutils literal"><span class="pre">G.x=0.5</span></tt>, only
object G will be affected. If we do <tt class="docutils literal"><span class="pre">Gaussian.x=0.5</span></tt>, all future
objects of type Gaussian will have a default x value of 0.5.
Moreover, all <em>existing</em> objects of type Gaussian will also get the
new x value of 0.5, unless the user has previously set the value of
x on that object explicitly. That is, setting a Parameter at the
class level typically affects all existing and future objects from
that class, unless the object has overriden the value for that
Parameter. To affect only one object, set the value on that object
by itself.</p>
<p>In certain cases, it can be confusing to have objects inherit from a
single shared class Parameter. For instance, constant parameters are
expected to keep the same value even if the class Parameter is later
changed. Also, mutable Parameter objects, i.e. values that have
internal state (such as lists, arrays, or class instances) can have
very confusing behavior if they are shared between Parameterized
objects, because changes to one Parameterized object&#8217;s value can
affect all the others. In both of these cases (constants and
Parameters whose values may be mutable objects) the Parameter is
typically set to <tt class="docutils literal"><span class="pre">instantiate=True</span></tt>, which forces every
Parameterized object owning that Parameter to instantiate its own
private, independent copy when the Parameterized object is created.
This avoids much confusion, but does prevent existing objects from
being controlled as a group by changing the class Parameters.</p>
</div>
<div class="section" id="inheritance-examples">
<h2>Inheritance examples<a class="headerlink" href="#inheritance-examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples should clarify how Parameter values are
inherited and instantiated. In Python, attributes (including but not
limited to Parameters) declared at the class level are shared by all
instances of that class, unless an instance overwrites the attribute
with its own copy of the variable. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>Here <tt class="docutils literal"><span class="pre">a</span></tt> is a class attribute, because it is declared at the class
level (outside of any method like <tt class="docutils literal"><span class="pre">__init__</span></tt>). Creating two
instances of Example demonstrates that the value <tt class="docutils literal"><span class="pre">a</span></tt> is shared
between the instances:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example2</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">10</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example2</span><span class="o">.</span><span class="n">a</span>
<span class="mi">10</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">Example</span><span class="o">.</span><span class="n">a</span><span class="o">=</span><span class="mi">7</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">7</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example2</span><span class="o">.</span><span class="n">a</span>
<span class="mi">7</span>
</pre></div>
</div>
<p>Note that setting the class attribute on the Example class changed
the value held in both instances. For an Example instance to have
its own, independent copy of the variable, it is necessary to set
the variable directly on the instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example2</span><span class="o">.</span><span class="n">a</span><span class="o">=</span><span class="mi">19</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">Example</span><span class="o">.</span><span class="n">a</span><span class="o">=</span><span class="mi">40</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">40</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example2</span><span class="o">.</span><span class="n">a</span>
<span class="mi">19</span>
</pre></div>
</div>
<p>Because instances share the object held in the class attribute, any
changes to attributes of the object will show up in all the
instances. The same general rules apply to Parameters declared at
the class level:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">param</span>

<span class="k">class</span> <span class="nc">ExampleP</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span> <span class="o">=</span> <span class="n">ExampleP</span><span class="p">()</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">10</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">ExampleP</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">example1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">40</span>
</pre></div>
</div>
<p>However, if a specific Parameter value is passed in when creating
the object, there will be a separate and independent copy containing
that value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">e1</span> <span class="o">=</span> <span class="n">ExampleP</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">e1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">8</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">ExampleP</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">e1</span><span class="o">.</span><span class="n">a</span>
<span class="mi">8</span>
</pre></div>
</div>
<p>The author of a class can also force this behavior even when no
value is supplied by declaring <tt class="docutils literal"><span class="pre">a</span></tt> with
<tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">Parameter(default=10,instantiate=True)</span></tt>. As mentioned above,
this is useful when the Parameter will hold a mutable object, when
sharing between instances would lead to confusion.</p>
<p>For instance, consider a Parameter whose value is the learning
function <tt class="docutils literal"><span class="pre">Oja</span></tt>, which itself has the Parameter <tt class="docutils literal"><span class="pre">alpha</span></tt>. A user
might want to declare that all <tt class="docutils literal"><span class="pre">CFSheet</span></tt>s should have a single
output function, <tt class="docutils literal"><span class="pre">Oja</span></tt>, by setting <tt class="docutils literal"><span class="pre">CFSheet.learning_fn=Oja()</span></tt>.
Without <tt class="docutils literal"><span class="pre">instantiate=True</span></tt>, instances of the class <tt class="docutils literal"><span class="pre">CFSheet</span></tt>
would share a single <tt class="docutils literal"><span class="pre">Oja</span></tt> object. A user with a number of
<tt class="docutils literal"><span class="pre">CFSheet</span></tt>s might be surprised to find that setting <tt class="docutils literal"><span class="pre">alpha</span></tt> on
one particular <tt class="docutils literal"><span class="pre">CFSheet</span></tt>&#8216;s learning_fn would change it on them
all.</p>
<p>To avoid this confusion, the author of <tt class="docutils literal"><span class="pre">CFSheet</span></tt> can declare that
the learning_fn Parameter always be instantiated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">learning_fn</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">Oja</span><span class="p">(),</span><span class="n">instantiate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, each instance of CFSheet will have its own instance of
Oja, independent of other <tt class="docutils literal"><span class="pre">CFSheet</span></tt>s&#8217; <tt class="docutils literal"><span class="pre">Oja()</span></tt> instances. In
fact, learning_fn parameters (like others taking mutable objects)
are typically declared not as Parameter but as <a class="reference external" href="../Reference_Manual/param.ClassSelector-class.html">ClassSelector</a>,
which sets <tt class="docutils literal"><span class="pre">instantiate=True</span></tt> automatically. Thus in most cases
users can use Parameters without worrying about the details of
inheritance and instantiation, but the details have been included
here because the behavior in unusual cases may be surprising.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/topo-banner7.png" alt="Logo"/>
            </a></p>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../News/index.html">News</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>
<li><a href="../Reference_Manual/index.html">Reference Manual</a></li>
<li><a href="../Developer_Manual/index.html">Developer Manual</a></li>
<li><a href="http://github.com/ioam/topographica">Github Source Code</a></li>
<li><a href="../Forums/index.html">Forums</a></li>
<li><a href="../Team_Members/index.html">Team Members</a></li>
<li><a href="../Future_Work/index.html">Future Work</a></li>
<li><a href="../FAQ/index.html">FAQ</a></li>
<li><a href="../Links/index.html">Links</a></li>
<li><a href="../Home/pubs.html">Publications</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">Parameters</a><ul>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#inheritance-and-class-parameters">Inheritance and class Parameters</a></li>
<li><a class="reference internal" href="#inheritance-examples">Inheritance examples</a></li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/topographica/edit/master/doc/User_Manual/parameters.rst" rel="nofollow">Edit on GitHub</a></li>
    <li><a	href="http://doozy.inf.ed.ac.uk:8010/builders/topographica_docs" rel="nofollow">Rebuild docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>