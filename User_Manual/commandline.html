<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Topographica Command Line &mdash; Topographica</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <link rel="shortcut icon" href="../_static/topo-favicon.ico"/>
    <link rel="top" title="Topographica" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="topographica-command-line">
<h1>Topographica Command Line<a class="headerlink" href="#topographica-command-line" title="Permalink to this headline">¶</a></h1>
<p>The GUI interface of Topographica provides the most commonly used
plots and displays, but it is often useful to be able to manipulate
the underlying program objects interactively. The Topographica command
prompt allows you to do this easily, using the same syntax as in
Topographica scripts. This section describes the basic
<a class="reference external" href="http://ipython.org/">IPython</a>-based interactive prompt that is available whenever
Topographica starts.  Topographica also supports the more
full-featured <cite>IPython Notebook</cite> interface using a web browser, which
supports all of the same commands and also provides interactive
visualization facilities similar to those in the GUI (but more
flexible).  See the <cite>Tutorials</cite> for examples of using the notebook
interface.</p>
<p>The command prompt gives you direct access to <a class="reference external" href="http://python.org/doc/">Python</a>, and so any
expression valid for Python can be entered. For instance, if your
script defines a Sheet named V1, you can display and change V1&#8217;s
parameters using Python commands:</p>
<div class="highlight-python"><div class="highlight"><pre>[cloud]v1cball: topographica -i ~/Documents/Topographica/examples/tiny.ty

Welcome to Topographica!

Type help() for interactive help with python, help(topo) for general
information about Topographica, help(commandname) for info on a
specific command, or topo.about() for info on this release, including
licensing information.



topo_t000000.00_c1&gt;&gt;&gt; topo.sim[&#39;V1&#39;].density
               Out[1]:5.0

topo_t000000.00_c2&gt;&gt;&gt; topo.sim[&#39;V1&#39;].output_fns[0]
               Out[2]:PiecewiseLinear(lower_bound=...)

topo_t000000.00_c3&gt;&gt;&gt; from topo.transferfn import *

topo_t000000.00_c4&gt;&gt;&gt; topo.sim[&#39;V1&#39;].output_fns=[IdentityTF()]

topo_t000000.00_c5&gt;&gt;&gt; topo.sim[&#39;V1&#39;].output_fns[0]
               Out[5]:IdentityTF(name=...)

topo_t000000.00_c6&gt;&gt;&gt; topo.sim[&#39;V1&#39;].activity
               Out[6]:
array([[ 0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.]])
...
</pre></div>
</div>
<p>For very large arrays, numpy will suppress printing the array data
to avoid filling your terminal with numbers. If you do want to see
the data, you can tell numpy to print even the largest arrays:</p>
<div class="highlight-python"><div class="highlight"><pre>topo_t000000.00_c7&gt;&gt;&gt; numpy.set_printoptions(threshold=2**30)
</pre></div>
</div>
<p>To see what is available for inspection or manipulation for any
object, you can use <tt class="docutils literal"><span class="pre">dir()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>topo_t000000.00_c10&gt;&gt;&gt; dir(topo.sim[&#39;V1&#39;])
               Out[10]:
[&#39;_EventProcessor__abstract&#39;,
...
 &#39;activity&#39;,
 &#39;activity_len&#39;,
 &#39;apply_output_fns&#39;,
 &#39;bounds&#39;,
...]
</pre></div>
</div>
<p>Note the directory will typically include many items that are not
useful to inspect, including those starting with an underscore
(<tt class="docutils literal"><span class="pre">_</span></tt>), but it gives a good idea what an object contains. You can
also get information about most objects by typing <tt class="docutils literal"><span class="pre">?</span></tt> after the
name, or by using the <tt class="docutils literal"><span class="pre">help()</span></tt> function for more detailed
information:</p>
<div class="highlight-python"><div class="highlight"><pre>topo_t000000.00_c11&gt;&gt;&gt; PiecewiseLinear?
...
Docstring:
    Piecewise-linear TransferFn with lower and upper thresholds.

    Values below the lower_threshold are set to zero, those above
    the upper threshold are set to 1.0, and those in between are
    scaled linearly.

Constructor information:
Definition: PiecewiseLinear(self, **params)
Docstring:
    Initialize this Parameterized instance.

    The values of parameters can be supplied as keyword arguments
    to the constructor (using parametername=parametervalue); these
    values will override the class default values for this one
    instance.

    If no &#39;name&#39; parameter is supplied, self.name defaults to the
    object&#39;s class name with a unique number appended to it.


topo_t000000.00_c12&gt;&gt;&gt; help(topo.sim[&#39;Retina&#39;])

Help on GeneratorSheet in module topo.sheet object:

class GeneratorSheet(topo.base.sheet.Sheet)
 |  Sheet for generating a series of 2D patterns.
 |
 |  Typically generates the patterns by choosing parameters from a
 |  random distribution, but can use any mechanism.
 |
...
 |  Methods defined here:
 |
 |  __init__(self, **params)
 |
 |  generate(self)
 |  Generate the output and send it out the Activity port.
 |
...
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |
 |  apply_output_fns
 |  Whether to apply the output_fns after computing an Activity matrix.
 |
 |  input_generator
 |  Specifies a particular PatternGenerator type to use when creating patterns.
 |
...
 |  ----------------------------------------------------------------------
 |  Data and other attributes defined here:
 |
 |  src_ports = [&#39;Activity&#39;]
 |
...
</pre></div>
</div>
<p>See the <a class="reference external" href="http://ipython.scipy.org/doc/manual/html/interactive/tutorial.html">IPython Quick Tutorial</a> for IPython-specific extensions useful
from the command prompt.</p>
<div class="section" id="recreating-results-from-interactive-sessions">
<h2>Recreating results from interactive sessions<a class="headerlink" href="#recreating-results-from-interactive-sessions" title="Permalink to this headline">¶</a></h2>
<p>While interactive creation and exploration of a simulation can be
very helpful, often you will want to create a representation of your
simulation that you can use again. One way of doing this is to save
an existing simulation that you have already created at the
commandline (see <a class="reference external" href="../Reference_Manual/topo.command-module.html#save_script_repr">save_script_repr</a> for how to save a runnable
specification of your simulation (but not its internal state), or
<a class="reference external" href="../Reference_Manual/topo.command-module.html#save_snapshot">save_snapshot</a> for how to save your simulation&#8217;s current state).
Another way is to create a .ty script file yourself, and then run it
with Topographica. As discussed in the <a class="reference external" href="scripts.html#ty-files">Topographica scripts</a>
section, exactly the same commands can be entered in a .ty file as
at the commandline, and running the .ty file (either by passing it
at startup to the topographica program on the commandline, or by
passing it as an argument to <tt class="docutils literal"><span class="pre">execfile()</span></tt>) is equivalent to
entering its commands manually.</p>
<div class="section" id="plotting-from-the-command-line">
<span id="pylab"></span><h3>Plotting from the command line<a class="headerlink" href="#plotting-from-the-command-line" title="Permalink to this headline">¶</a></h3>
<p>If the GUI is running, you can also plot any vector or matrix in the
program:</p>
<div class="highlight-python"><div class="highlight"><pre>$ topographica -g ~/Documents/Topographica/examples/tiny.ty
Topographica&gt; topo.sim.run(1)
Topographica&gt; from topo.command.pylabplot import *
Topographica&gt; V1 = topo.sim[&#39;V1&#39;]
Topographica&gt; matrixplot(V1.activity)
Topographica&gt; vectorplot(V1.activity[0])
Topographica&gt; vectorplot(V1.activity[1])
Topographica&gt; vectorplot(V1.activity[10])
Topographica&gt;
</pre></div>
</div>
<p>Result:</p>
<div class="figure align-center">
<img alt="" src="../_images/matrixvectorplot.png" />
</div>
<p id="d-plotting">You can also try replacing matrixplot with matrixplot3d to get a 3D
wireframe plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Topographica</span><span class="o">&gt;</span> <span class="n">matrixplot3d</span><span class="p">(</span><span class="n">V1</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="figure align-center">
<img alt="" src="../_images/matrixplot3d_matplotlib.png" />
</div>
<p>Be sure to try clicking and dragging on the plot, to rotate the
viewpoint.</p>
<p>The prompt can also be used for any mathematical calculation or
plotting one might wish to do, a la Matlab:</p>
<div class="highlight-python"><div class="highlight"><pre>$ topographica -g
Topographica&gt; from numpy import *
Topographica&gt; 2*pi*exp(1.6)
31.120820554943471
Topographica&gt; t = arange(0.0, 1.0+0.01, 0.01)
Topographica&gt; s = cos(2*2*pi*t)
Topographica&gt; from pylab import *
Topographica&gt; plot(s)
[&lt;matplotlib.lines.Line2D instance at 0xb6b1aeac&gt;]
Topographica&gt; show._needmain = False
Topographica&gt; show()
</pre></div>
</div>
<p>Resulting plot:</p>
<div class="figure align-center">
<img alt="" src="../_images/sine_plot.png" />
</div>
<p>See the <a class="reference external" href="http://scipy.org/Documentation">numpy documentation</a> for more details on the mathematical
expressions and functions supported, and the <a class="reference external" href="http://matplotlib.org/">MatPlotLib
documentation</a> for how to make new plots and change their axes,
labels, titles, line styles, etc.</p>
</div>
<div class="section" id="saving-or-accessing-topographica-bitmaps">
<span id="saving-bitmaps"></span><h3>Saving or accessing Topographica bitmaps<a class="headerlink" href="#saving-or-accessing-topographica-bitmaps" title="Permalink to this headline">¶</a></h3>
<p>A command save_plotgroup is provided to allow you to automate the
process of generating and saving the various bitmap images visible
in the Topographica GUI. For instance, to measure an orientation map
and save the resulting bitmaps to disk, just do:</p>
<div class="highlight-python"><div class="highlight"><pre>Topographica&gt; from topo.command.analysis import measure_or_pref
Topographica&gt; from topo.plotting.plotgroup import save_plotgroup
Topographica&gt; measure_or_pref()
Topographica&gt; save_plotgroup(&quot;Orientation Preference&quot;)
</pre></div>
</div>
<p>The name &#8220;Orientation Preference&#8221; here is just the name used in the
Plots menu, and the command &#8220;measure_or_pref()&#8221; is listed at the
bottom of the Orientation Preference window. These names and
functions are typically defined in topo/command/analysis.py, and are
used to present testing images and store the resulting responses.
The command save_plotgroup then uses this data to generate the
bitmap images, and saves them to disk.</p>
<p>By default, all output from Topographica goes into <tt class="docutils literal"><span class="pre">Topographica</span></tt>
folder in your <tt class="docutils literal"><span class="pre">Documents</span></tt> directory (this can be customized, and
is <tt class="docutils literal"><span class="pre">~/topographica</span></tt> in release 0.9.7 and earlier; see the note
about the <a class="reference external" href="scripts.html#output-path">default output path</a> for more information).</p>
<p>Other examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">save_plotgroup</span><span class="p">(</span><span class="s">&quot;Activity&quot;</span><span class="p">)</span>
<span class="n">save_plotgroup</span><span class="p">(</span><span class="s">&quot;Projection&quot;</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="n">topo</span><span class="o">.</span><span class="n">sim</span><span class="p">[</span><span class="s">&#39;V1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">projections</span><span class="p">(</span><span class="s">&#39;Afferent&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>As shown above, some plotgroups (such as Projection) accept optional
parameters. Using these commands makes it possible to run
simulations without any GUI, for batch or remote processing.</p>
<p>It is also possible to access these bitmaps from the command line,
if you want to analyze them rather than save them. For example to
see the matrix of values for the OrientationPreference, plus the
bounding box in Sheet coordinates, do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">measure_or_pref</span><span class="p">()</span>
<span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="n">bbox</span><span class="p">)</span><span class="o">=</span><span class="n">topo</span><span class="o">.</span><span class="n">sim</span><span class="p">[</span><span class="s">&#39;V1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sheet_views</span><span class="p">[</span><span class="s">&#39;OrientationPreference&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">view</span><span class="p">()</span>
<span class="k">print</span> <span class="n">mat</span>
<span class="k">print</span> <span class="n">bbox</span><span class="o">.</span><span class="n">lbrt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="imports">
<h3>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h3>
<p>In the sample code above, each command is imported (i.e., loaded and
declared) from the appropriate file before it is used. Python
requires such importing to avoid confusion between similar commands
defined in different files; see the Python documentation for <a class="reference external" href="http://docs.python.org/2/tutorial/modules.html">more
information about imports</a>.</p>
<p>To avoid confusion, we recommend you take advantage of Python&#8217;s
namespaces (as mentioned earlier in the <a class="reference external" href="scripts.html#imports">Imports</a> section of the
Topographica Scripts page) when working interactively at the
commandline. For instance, <tt class="docutils literal"><span class="pre">pattern.random.UniformRandom</span></tt> is
clearly distinct from <tt class="docutils literal"><span class="pre">numbergen.UniformRandom</span></tt>; importing one or
the other (or both!) as only <tt class="docutils literal"><span class="pre">UniformRandom</span></tt> (e.g.
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">numbergen</span> <span class="pre">import</span> <span class="pre">UniformRandom</span></tt>) could lead to confusion. Of
course you might decide that in many cases, using the namespace at
the command-line involves too much typing; you are free to use
whichever technique you prefer.</p>
</div>
</div>
<div class="section" id="simplifying-imports-during-interactive-runs">
<span id="option-a"></span><h2>Simplifying imports during interactive runs<a class="headerlink" href="#simplifying-imports-during-interactive-runs" title="Permalink to this headline">¶</a></h2>
<p>When working interactively, typing common import lines (such as
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">topo.command.analysis</span> <span class="pre">import</span> <span class="pre">measure_or_pref</span></tt>,
from the earlier example) can be tedious. Topographica therefore
provides the &#8220;-a&#8221; command-line option, which automatically imports
every command in topo/command/*.py. The &#8220;-g&#8221; option also
automatically enables &#8220;-a&#8221;, so that the commands will be available
in the GUI as well. Thus if you start Topographica as &#8220;topographica
-a&#8221; or &#8220;topographica -g&#8221;, then you can omit the
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">topo.command...</span> <span class="pre">import</span> <span class="pre">...</span></tt> lines above. Still, it is best
never to rely on this behavior when writing .ty script files or .py
code, because of the great potential for confusion, so please use
&#8220;-a&#8221; only for interactive debugging.</p>
<div class="section" id="customizing-the-command-prompt">
<span id="promptformat"></span><h3>Customizing the command prompt<a class="headerlink" href="#customizing-the-command-prompt" title="Permalink to this headline">¶</a></h3>
<p>The contents of the command prompt itself are controlled by the
<a class="reference external" href="../Reference_Manual/topo.misc.commandline.CommandPrompt-class.html">CommandPrompt</a> class, and can be set to any Python code that
evaluates to a string. As of 09/2008, the default prompt is
<tt class="docutils literal"><span class="pre">topo_t000000.00_c1&gt;&gt;&gt;</span></tt>, where <tt class="docutils literal"><span class="pre">t000000.00</span></tt> is the current value
of <tt class="docutils literal"><span class="pre">topo.sim.time()</span></tt> when the prompt is printed, and the <tt class="docutils literal"><span class="pre">1</span></tt>
following <tt class="docutils literal"><span class="pre">c</span></tt> is IPython&#8217;s record of your command number (IPython
caches your input and output in the lists <tt class="docutils literal"><span class="pre">In</span></tt> and <tt class="docutils literal"><span class="pre">Out</span></tt>
respectively; the command number allows you to access a specific
entry as e.g. <tt class="docutils literal"><span class="pre">In[1]</span></tt>).</p>
<p>You can change the prompt format by doing something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">topo.misc.commandline</span> <span class="kn">import</span> <span class="n">CommandPrompt</span>
<span class="n">CommandPrompt</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s">&#39;${my_var}&gt;&gt;&gt; &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where in this case the value of a variable <tt class="docutils literal"><span class="pre">my_var</span></tt> will be
checked each time before the prompt is printed. IPython allows the
prompt to be configured in many ways; see IPython&#8217;s <a class="reference external" href="http://ipython.scipy.org/doc/manual/html/config/index.html">User Manual</a>
for full details about what you can pass as an argument to
<tt class="docutils literal"><span class="pre">CommandPrompt.set_format</span></tt> in Topographcia.</p>
<p>In addition to the input prompt described above, there is also an
output prompt (e.g. <tt class="docutils literal"><span class="pre">Out[3]:</span></tt>) and a continuation prompt (e.g.
<tt class="docutils literal"><span class="pre">....:</span></tt>). You can also customize these in the same way as the
input prompt by using the <a class="reference external" href="../Reference_Manual/topo.misc.commandline.OutputPrompt-class.html">OutputPrompt</a> and <a class="reference external" href="../Reference_Manual/topo.misc.commandline.CommandPrompt2-class.html">CommandPrompt2</a>
classes, respectively, in the same way.</p>
</div>
<div class="section" id="site-specific-customizations">
<h3>Site-specific customizations<a class="headerlink" href="#site-specific-customizations" title="Permalink to this headline">¶</a></h3>
<p>If you have any commands that you want to be executed whenever you
start Topographica, you can put them into the <a class="reference external" href="scripts.html#user-configuration-file">user configuration
file</a>. For instance, to use the ANSI colors every time, just add
these lines to your user configuration file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">topo.misc.commandline</span> <span class="kn">import</span> <span class="n">CommandPrompt</span>
<span class="n">CommandPrompt</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">CommandPrompt</span><span class="o">.</span><span class="n">ansi_format</span>
</pre></div>
</div>
</div>
<div class="section" id="debugging-or-verbose-messaging">
<span id="min-print-level"></span><h3>Debugging or verbose messaging<a class="headerlink" href="#debugging-or-verbose-messaging" title="Permalink to this headline">¶</a></h3>
<p>If you want to study exactly how Topographica is operating, e.g. to
extend it or control it from the command line, you can consider
changing the <tt class="docutils literal"><span class="pre">param.parameterized.min_print_level</span></tt> parameter so
that messages will be printed whenever Topographica performs an
action. For instance, you can enable verbose messaging by starting
Topographica as:</p>
<div class="highlight-python"><div class="highlight"><pre>topographica -c &quot;import param&quot; \
-c &quot;param.parameterized.min_print_level=param.parameterized.VERBOSE&quot; ...
</pre></div>
</div>
<p>Instead of VERBOSE, you can use any of the other message levels
defined in parameterized.py, such as DEBUG, which gives even more
information (typically much more than is useful).</p>
</div>
<div class="section" id="controlling-the-gui-from-scripts-or-the-command-line">
<span id="scripting-gui"></span><h3>Controlling the GUI from scripts or the command line<a class="headerlink" href="#controlling-the-gui-from-scripts-or-the-command-line" title="Permalink to this headline">¶</a></h3>
<p>The code for the Topographica GUI is kept strictly separate from the
non-GUI code, so that Topographica simulations can be run remotely,
automated using scripts, and upgraded to newer graphical interface
libraries as they become available. Thus in most cases it is best to
ensure that your scripts do not contain any GUI-specific code. Even
so, in certain cases it can be very helpful to automate GUI
operations using scripts or from the command line, e.g. if you
always want to open a standard set of windows for analysis.</p>
<p>For such situations, Topographica provides a simple interface for
controlling the GUI from within Python. For instance, to open an
Activity window, which is under the Plots menu, type:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">topo</span>
<span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Activity&#39;</span><span class="p">]()</span>
</pre></div>
</div>
<p>Some menu items accept optional arguments, which can be supplied as
follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">topo</span>
<span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Connection Fields&#39;</span><span class="p">](</span><span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">sheet</span><span class="o">=</span><span class="n">topo</span><span class="o">.</span><span class="n">sim</span><span class="p">[</span><span class="s">&#39;V1&#39;</span><span class="p">])</span>
<span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Activity&#39;</span><span class="p">](</span><span class="n">normalize</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">auto_refresh</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Other examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Preference Maps&#39;</span><span class="p">][</span><span class="s">&#39;Orientation Preference&#39;</span><span class="p">]();</span>

<span class="n">p</span><span class="o">=</span><span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">]</span>
<span class="n">p</span><span class="p">[</span><span class="s">&#39;Activity&#39;</span><span class="p">]();</span>
<span class="n">p</span><span class="p">[</span><span class="s">&#39;Connection Fields&#39;</span><span class="p">]()</span>
<span class="n">p</span><span class="p">[</span><span class="s">&#39;Projection&#39;</span><span class="p">]()</span>
<span class="n">p</span><span class="p">[</span><span class="s">&#39;Projection Activity&#39;</span><span class="p">]()</span>
<span class="n">p</span><span class="p">[</span><span class="s">&#39;Tuning Curves&#39;</span><span class="p">][</span><span class="s">&#39;Orientation Tuning&#39;</span><span class="p">]()</span>

<span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Simulation&#39;</span><span class="p">][</span><span class="s">&#39;Test Pattern&#39;</span><span class="p">]()</span>
<span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Simulation&#39;</span><span class="p">][</span><span class="s">&#39;Model Editor&#39;</span><span class="p">]()</span>
</pre></div>
</div>
<p>In each case, the syntax for calling the command reflects the
position of that command in the menu structure. Thus these examples
will no longer work as the menu structure changes; no backwards
compatibility will be provided. These commands should be treated
only as a shortcut way to invoke GUI menu items, not as an archival
specification for how a model works.</p>
<p>Note that if you are doing any of these operations from a
Topographica script, it is safest to check first that there is a GUI
available, because otherwise the script cannot be executed when
Topographica is started without the -g option. Topographica defines
the <tt class="docutils literal"><span class="pre">guimain</span></tt> attribute of the <tt class="docutils literal"><span class="pre">topo</span></tt> namespace only when there
is a GUI available in this run. Thus if you check to make sure that
guimain is defined before running your GUI commands:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topo</span><span class="p">,</span><span class="s">&#39;guimain&#39;</span><span class="p">):</span>
   <span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Activity&#39;</span><span class="p">]()</span>
</pre></div>
</div>
<p>then your scripts should still work as usual without the GUI (apart
from opening GUI-related windows, which would not work anyway).</p>
<p>Additionally, it is possible to script more complex GUI operations.
For instance, one can open an Orientation Preference window and
request that the map be measured by invoking the &#8216;Refresh&#8217; button:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">o</span> <span class="o">=</span> <span class="n">topo</span><span class="o">.</span><span class="n">guimain</span><span class="p">[</span><span class="s">&#39;Plots&#39;</span><span class="p">][</span><span class="s">&#39;Preference Maps&#39;</span><span class="p">][</span><span class="s">&#39;Orientation Preference&#39;</span><span class="p">]()</span>
<span class="n">o</span><span class="o">.</span><span class="n">Refresh</span><span class="p">()</span> <span class="c"># measure the map: equivalent to pressing the Refresh button</span>
</pre></div>
</div>
<p>Parameters of the plots can also be set. Continuing from the
previous example, we can switch the plots to be in sheet
coordinates, and alter the pre-plot hooks so that progress will be
displayed in an open Activity window:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">o</span><span class="o">.</span><span class="n">sheet_coords</span><span class="o">=</span><span class="bp">False</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">o</span><span class="o">.</span><span class="n">pre_plot_hooks</span><span class="p">:</span>
   <span class="n">f</span><span class="o">.</span><span class="n">display</span><span class="o">=</span><span class="bp">True</span>
</pre></div>
</div>
<p>At present, not all GUI operations can be controlled easily from the
commandline, but eventually all will be available.</p>
<p>Note that in some cases the GUI will reformat the name of a
parameter to make it match look-and-feel expectations for GUI
interfaces, such as removing underscores from names, making the
initial letter capital, etc. (e.g. in the Test Pattern window). If
you want to disable this behavior so that you can tell exactly which
parameter name to use from the command line or in a script, you can
turn off the parameter name reformatting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">param.tk</span> <span class="kn">import</span> <span class="n">TkParameterized</span>
<span class="n">TkParameterized</span><span class="o">.</span><span class="n">pretty_parameters</span><span class="o">=</span><span class="bp">False</span>
</pre></div>
</div>
<p>One can also open a GUI window to inspect or edit any Parameterized
object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">param.tk</span> <span class="kn">import</span> <span class="n">edit_parameters</span>
<span class="n">edit_parameters</span><span class="p">(</span><span class="n">topo</span><span class="o">.</span><span class="n">sim</span><span class="p">[</span><span class="s">&#39;V1&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This gives a ParametersFrame representing the Parameters of
<tt class="docutils literal"><span class="pre">topo.sim['V1']</span></tt>, allowing values to be inspected and changed.
(This is the same editing window as is available through the <a class="reference external" href="modeleditor.html#parameters">model
editor</a>.)</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/topo-banner7.png" alt="Logo"/>
            </a></p>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../News/index.html">News</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>
<li><a href="../Reference_Manual/index.html">Reference Manual</a></li>
<li><a href="../Developer_Manual/index.html">Developer Manual</a></li>
<li><a href="http://github.com/ioam/topographica">Github Source Code</a></li>
<li><a href="../Forums/index.html">Forums</a></li>
<li><a href="../Team_Members/index.html">Team Members</a></li>
<li><a href="../Future_Work/index.html">Future Work</a></li>
<li><a href="../FAQ/index.html">FAQ</a></li>
<li><a href="../Links/index.html">Links</a></li>
<li><a href="../Home/pubs.html">Publications</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">Topographica Command Line</a><ul>
<li><a class="reference internal" href="#recreating-results-from-interactive-sessions">Recreating results from interactive sessions</a><ul>
<li><a class="reference internal" href="#plotting-from-the-command-line">Plotting from the command line</a></li>
<li><a class="reference internal" href="#saving-or-accessing-topographica-bitmaps">Saving or accessing Topographica bitmaps</a></li>
<li><a class="reference internal" href="#imports">Imports</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simplifying-imports-during-interactive-runs">Simplifying imports during interactive runs</a><ul>
<li><a class="reference internal" href="#customizing-the-command-prompt">Customizing the command prompt</a></li>
<li><a class="reference internal" href="#site-specific-customizations">Site-specific customizations</a></li>
<li><a class="reference internal" href="#debugging-or-verbose-messaging">Debugging or verbose messaging</a></li>
<li><a class="reference internal" href="#controlling-the-gui-from-scripts-or-the-command-line">Controlling the GUI from scripts or the command line</a></li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/topographica/edit/master/doc/User_Manual/commandline.rst" rel="nofollow">Edit on GitHub</a></li>
    <li><a	href="http://doozy.inf.ed.ac.uk:8010/builders/topographica_docs" rel="nofollow">Rebuild docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="index.html">User Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>